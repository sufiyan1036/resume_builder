<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Resume Maker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <style>
    body { 
      background: linear-gradient(135deg, #f0f9ff, #e0f7fa);
      font-family: "Segoe UI", sans-serif;
    }
    h3 { font-weight: 700; color: #0f4c75; }
    .card { border: none; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
    .preview { background: white; padding: 28px; border-radius: 12px; box-shadow: 0 6px 22px rgba(0,0,0,0.08); max-width: 794px; }

    .gradient-text {
      background: linear-gradient(90deg, #0077b6, #00b4d8, #90e0ef);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .name { font-size: 28px; font-weight:700; }
    .section-title { font-weight:700; margin-top:14px; border-bottom:2px solid #eee; padding-bottom:6px; }
    .muted { color:#6b7280; }
    .badge-skill { background:#caf0f8; color:#0077b6; font-weight:500; margin: 2px; }

    .profile-pic {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #0077b6;
    }

    .header { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }

    /* Templates */
    .template-modern .name { font-family: 'Segoe UI', sans-serif; }
    .template-classic { font-family: "Georgia", serif; }
    .template-classic .name { color:#2d6a4f; }
    .template-dark { background:#121212; color:#f8f9fa; }
    .template-dark .name { background: linear-gradient(90deg, #ff6a00, #ee0979); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .template-dark .section-title { color:#f1faee; border-color:#333; }
    .template-dark .badge-skill { background:#2a9d8f; color:white; }
    .template-dark .profile-pic { border-color:#ff6a00; }
  </style>
</head>
<body>
  <div class="container py-4">
    <h3 class="mb-4 text-center gradient-text">‚ú® Resume Maker ‚ú®</h3>
    <div class="row g-4">
      <!-- LEFT: FORM -->
      <div class="col-md-5">
        <div class="card p-3">
          <label class="form-label">üé® Template</label>
          <select id="template" class="form-select mb-2" onchange="renderPreview()">
            <option value="modern">Modern (Blue Gradient)</option>
            <option value="classic">Classic (Green Serif)</option>
            <option value="dark">Dark (Black Elegant)</option>
          </select>

          <label class="form-label">üì∑ Profile Photo</label>
          <input type="file" id="photoInput" class="form-control mb-2" accept="image/*" onchange="previewPhoto(event)"/>

          <input id="name" class="form-control mb-2" placeholder="Full Name" oninput="renderPreview()"/>
          <input id="title" class="form-control mb-2" placeholder="Title / Profession" oninput="renderPreview()"/>
          <input id="contact" class="form-control mb-2" placeholder="Email | Phone | Location" oninput="renderPreview()"/>
          <textarea id="summary" class="form-control mb-2" rows="3" placeholder="Summary" oninput="renderPreview()"></textarea>
          <input id="skills" class="form-control mb-2" placeholder="Skills (comma separated)" oninput="renderPreview()"/>

          <hr>
          <label class="form-label">Education</label>
          <div id="edu-list"></div>
          <button class="btn btn-outline-primary btn-sm mb-3" onclick="addEducation()">+ Add Education</button>

          <label class="form-label">Experience / Projects</label>
          <div id="exp-list"></div>
          <button class="btn btn-outline-primary btn-sm mb-3" onclick="addExperience()">+ Add Experience</button>

          <div class="d-flex gap-2 flex-wrap">
            <button class="btn btn-success flex-fill" onclick="downloadPDF()">‚¨áÔ∏è Download PDF</button>
            <button class="btn btn-secondary flex-fill" onclick="clearAll()">üßπ Clear</button>
            <button class="btn btn-warning flex-fill" onclick="autoFill()">‚ö° Auto-Fill</button>
          </div>
        </div>
      </div>

      <!-- RIGHT: PREVIEW -->
      <div class="col-md-7">
        <div id="preview-wrapper" class="preview template-modern"></div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <script>
    let uploadedPhoto = "";

    function previewPhoto(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = e => { uploadedPhoto = e.target.result; renderPreview(); };
        reader.readAsDataURL(file);
      }
    }

    function addEducation(value="") {
      const div = document.createElement("div");
      div.classList.add("input-group", "mb-2");
      div.innerHTML = `
        <input class="form-control edu" placeholder="Degree, College, Year" value="${value}" oninput="renderPreview()"/>
        <button class="btn btn-outline-danger" onclick="this.parentElement.remove(); renderPreview()">‚úñ</button>`;
      document.getElementById("edu-list").appendChild(div);
    }

    function addExperience(value="") {
      const div = document.createElement("div");
      div.classList.add("input-group", "mb-2");
      div.innerHTML = `
        <input class="form-control exp" placeholder="Job / Project, Company, Year" value="${value}" oninput="renderPreview()"/>
        <button class="btn btn-outline-danger" onclick="this.parentElement.remove(); renderPreview()">‚úñ</button>`;
      document.getElementById("exp-list").appendChild(div);
    }

    function renderPreview() {
      const wrapper = document.getElementById("preview-wrapper");
      const template = document.getElementById("template").value;
      wrapper.className = "preview template-" + template;

      const name = document.getElementById("name").value || "Your Name";
      const title = document.getElementById("title").value || "Your Title";
      const contact = document.getElementById("contact").value || "your@email.com | 9876543210";
      const summary = document.getElementById("summary").value || "Short professional summary here...";
      const skillsArr = (document.getElementById("skills").value || "").split(",").map(s => s.trim()).filter(s => s);
      const skillsHTML = skillsArr.map(s => `<span class="badge badge-skill">${s}</span>`).join(" ");

      const eduItems = [...document.querySelectorAll(".edu")].map(e => `<li>${e.value}</li>`).join("");
      const expItems = [...document.querySelectorAll(".exp")].map(e => `<li>${e.value}</li>`).join("");

      wrapper.innerHTML = `
        <div class="header">
          ${uploadedPhoto ? `<img src="${uploadedPhoto}" class="profile-pic">` : ""}
          <div>
            <div class="name gradient-text">${name}</div>
            <div class="muted">${title}</div>
            <div class="muted">${contact}</div>
          </div>
        </div>

        <div class="section-title gradient-text">Summary</div>
        <p>${summary}</p>

        <div class="section-title gradient-text">Skills</div>
        <p>${skillsHTML || "Add your skills..."}</p>

        <div class="section-title gradient-text">Education</div>
        <ul>${eduItems || "<li>Add education...</li>"}</ul>

        <div class="section-title gradient-text">Experience</div>
        <ul>${expItems || "<li>Add experience...</li>"}</ul>
      `;
    }

    async function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const element = document.getElementById("preview-wrapper");
      const canvas = await html2canvas(element);
      const imgData = canvas.toDataURL("image/png");
      const pdf = new jsPDF("p", "mm", "a4");
      const width = pdf.internal.pageSize.getWidth();
      const height = (canvas.height * width) / canvas.width;
      pdf.addImage(imgData, "PNG", 0, 0, width, height);
      pdf.save("resume.pdf");
    }

    function clearAll() {
      document.getElementById("template").value = "modern";
      document.getElementById("photoInput").value = "";
      uploadedPhoto = "";
      document.getElementById("name").value = "";
      document.getElementById("title").value = "";
      document.getElementById("contact").value = "";
      document.getElementById("summary").value = "";
      document.getElementById("skills").value = "";
      document.getElementById("edu-list").innerHTML = "";
      document.getElementById("exp-list").innerHTML = "";
      renderPreview();
    }

    function autoFill() {
      clearAll();
      document.getElementById("template").value = "modern";
      document.getElementById("name").value = "John Doe";
      document.getElementById("title").value = "Full Stack Developer";
      document.getElementById("contact").value = "john.doe@email.com | +91 9876543210 | Mumbai, India";
      document.getElementById("summary").value = "Passionate developer with 5+ years of experience building scalable web and cloud applications.";
      document.getElementById("skills").value = "JavaScript, React, Node.js, AWS, Docker, SQL";

      addEducation("B.Tech in Computer Science, IIT Bombay, 2018");
      addEducation("M.Tech in Software Systems, IIIT Hyderabad, 2020");
      addExperience("Software Engineer, Infosys, 2018-2020");
      addExperience("Senior Developer, TCS, 2020-2023");
      addExperience("Freelance Cloud Architect, 2023-Present");

      uploadedPhoto = "https://i.pravatar.cc/150?img=3"; // sample avatar
      renderPreview();
    }

    renderPreview();
  </script>
</body>
</html>
